<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Tablestakes: Bad-ass interactive tables.</title>
    <link href="vendor/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="vendor/css/jquery-ui.css" rel="stylesheet" type="text/css">
    <link href="vendor/rainbow/theme.css" rel="stylesheet" type="text/css">
    <link href="vendor/css/styleguide.css" rel="stylesheet" type="text/css">
    <link href="assets/tablestakes.css" rel="stylesheet" type="text/css">
    <link rel="icon" type="image/vnd.microsoft.icon" href="images/styleguide/favicon.ico">
  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>

          <div class="dropdown">
            <a href="#" data-toggle="dropdown" class="span3 dropdown-toggle brand">
              <img src="/vendor/images/styleguide/activecell_logo.png" />
              Tablestakes.js <i class="icon-arrow-down"></i></a>

            <ul role="menu" aria-labelledby="drop2" class="dropdown-menu">
              <li><a href="http://launchpad.activecell.com/admin">Activecell admin (rails)</a></li>
              <li><a href="#">Porchetta admin (node/socket)</a></li><li class="divider"></li>
              <li><a href="http://shotgun-showcase.herokuapp.com">Shotgun.js</a></li>
              <li><a href="http://striker-showcase.herokuapp.com">Striker.js</a></li>
              <li class="disabled"><a href="http://tablestakes-showcase.herokuapp.com">Tablestakes.js</a></li>
              <li><a href="http://tactile-showcase.herokuapp.com">Tactile.js</a></li>
            </ul>
          </div>

          <div class="nav-collapse">
            <ul class="nav">
              <li><a id="home" href="#home"><i class="icon-home"></i> Home</a></li>
              <li><a id="demo" href="#demo"><i class="icon-home"></i> Demo</a></li>
              <li><a id="performance" href="#performance"><i class="icon-white icon-time"></i> Performance</a></li>
              <li><a id="styleguide" href="#styleguide"><i class="icon-magic"></i> Style Guide</a></li>
              <li><a id="documentation" href="#documentation"><i class="icon-list-alt"></i> Annotated source</a></li>
              <li><a id="tests" href="#tests"><i class="icon-white icon-ok"></i> Tests</a></li>
              <li><a href="https://github.com/activecell/tablestakes"><i class="icon-book"></i> Source</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="page-wrapper textured-with-border">
      <div id="main-content">
        EmptyPage
      </div>
    </div>

    <script src="/vendor/js/jquery.js"></script>
    <script src="/vendor/js/underscore.js"></script>
    <script src="/vendor/js/backbone.js"></script>
    <script src="/vendor/js/d3.js"></script>
    <script src="/vendor/js/numeral/numeral.js"></script>
    <script src="/vendor/js/bootstrap.js"></script>
    <script src="/vendor/js/coffee-script.js"></script>
    <script src="/vendor/js/jquery-ui.js"></script>
    <script src="/vendor/rainbow/rainbow.js"></script>
    <script src="/vendor/rainbow/language/generic.js"></script>
    <script src="/vendor/rainbow/language/coffeescript.js"></script>

    <script src="/assets/tablestakes.js" defer></script>
    <!--<script src="/assets/examples.js" defer></script>-->
    <script>
      $(function() {
        app = {}

        var WorkspaceRouter = Backbone.Router.extend({
          routes: {
            "home": "home",
            "demo": "demo",
            "performance": "performance",
            "styleguide": "styleguide",
            "documentation":  "documentation",
            "tests": "tests"
          },

          home: function() {
            $.get("home.html", function(data) {
              $("#main-content").html(data);
            });
          },

          demo: function() {
            $.get("demo.html", function(data) {
              $("#main-content").html(data);
            });
          },
          performance: function() {
            $.get("performance.html", function(data){
              $("#main-content").html(data);
            })
          },

          styleguide: function(query, page) {
            $.get("styleguide.html", function(data) {
              $("#main-content").html(data);
            });
          },

          documentation: function(query, page) {
            var $block = $('<div/>').attr('id', 'frame');
            $block.attr('style', 'height: 100%;');
            $("#main-content").html($block);
            var $iframe = $('<iframe/>').attr('id', 'docs');
            $iframe.attr('style', 'width: 100%; height: 100%; border: none;');
            $("#frame").html($iframe);
            $iframe.attr('src', 'annotated_sources/tablestakes.html')
          },

          tests: function(query, page) {
            var $block = $('<div/>').attr('id', 'frame');
            $block.attr('style', 'height: 100%;');
            $("#main-content").html($block);
            var $iframe = $('<iframe/>').attr('id', 'tests-iframe');
            $iframe.attr('style', 'width: 100%; height: 100%; border: none;');
            $("#frame").html($iframe);
            $iframe.attr('src', 'test_runner.html')
          }
        });

        app.router = new WorkspaceRouter();
        Backbone.history.start();
        $("#home").on(function(){app.router.navigate("home")});
        $("#demo").on(function(){app.router.navigate("demo")});
        $("#performance").on(function(){app.router.navigate("performance")});
        $("#documentation").on(function(){app.router.navigate("documentation")});
        $("#tests").on(function(){app.router.navigate("tests")});
        $("#styleguide").on(function(){app.router.navigate("styleguide")});
      });
    </script>
  </body>
</html>
